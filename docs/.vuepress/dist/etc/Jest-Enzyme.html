<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>(etc) Jest, Enzyme React Component Testing. | 타자치는 곰</title>
    <meta name="description" content="킴웅식">
    
    
    <link rel="preload" href="/woongsik2.github.io/assets/css/10.styles.2c9db23b.css" as="style"><link rel="preload" href="/woongsik2.github.io/assets/js/app.0884dacd.js" as="script"><link rel="preload" href="/woongsik2.github.io/assets/js/8.e4a1a38e.js" as="script"><link rel="prefetch" href="/woongsik2.github.io/assets/js/6.52c478fa.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/1.7407715d.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/2.dcdaaa97.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/3.eb8d9e99.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/4.ef6df5e6.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/5.5b947a00.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/0.4a76f641.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/7.2d28bf05.js"><link rel="prefetch" href="/woongsik2.github.io/assets/js/9.02a1aaf6.js">
    <link rel="stylesheet" href="/woongsik2.github.io/assets/css/10.styles.2c9db23b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/woongsik2.github.io/" class="home-link router-link-active"><!----><span class="site-name">
      타자치는 곰
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/woongsik2.github.io/#" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/woongsik2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/woongsik2.github.io/#" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/woongsik2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/woongsik2.github.io/javascript/Const-let.html" class="sidebar-link">(javascript) Const, let</a></li><li><a href="/woongsik2.github.io/javascript/Scope.html" class="sidebar-link">(javascript) Scope</a></li><li><a href="/woongsik2.github.io/javascript/Hoisting.html" class="sidebar-link">(javascript) Hoisting</a></li><li><a href="/woongsik2.github.io/javascript/Closure.html" class="sidebar-link">(javascript) Closure.</a></li><li><a href="/woongsik2.github.io/javascript/ExecutionContext.html" class="sidebar-link">(javascript) Execution Context.</a></li><li><a href="/woongsik2.github.io/etc/Jest-Enzyme.html" class="active sidebar-link">(etc) Jest, Enzyme React Component Testing.</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/woongsik2.github.io/etc/docker.html" class="sidebar-link">(etc) Docker.</a></li></ul></div><div class="page"><div class="content"><h1 id="jest-enzyme-react-component-testing"><a href="#jest-enzyme-react-component-testing" aria-hidden="true" class="header-anchor">#</a> Jest, Enzyme React Component Testing.</h1><h3 id="jest-enzyme"><a href="#jest-enzyme" aria-hidden="true" class="header-anchor">#</a> Jest, Enzyme</h3><ul><li>Jest - 페이스북에서 만든 테스팅 프레임워크.</li><li>Enzyme - 에어 비앤비에서 만든 Reactjs 자바스크립트 테스팅 라이브러리.</li></ul><h3 id="유닛-테스팅"><a href="#유닛-테스팅" aria-hidden="true" class="header-anchor">#</a> 유닛 테스팅?</h3><ul><li>소프트웨어를 기능별로 나누고, 나눈 기능 내부에서 사용되는 함수도 나눠서 작은 단위로 테스팅 하는것을 의미한다.</li><li>만든 소프트웨어가 정상적으로 작동하는지 테스팅 하기 위해서, 직접 조작을 하면서 테스팅을 할 수 있다. 하지만, 프로젝트 단위가 커진다면 매번 코드를 수정하거나, 새로만들경우 모든 작업이 제대로 되었는지 일일히 직접 확인한다면 놓치는 부분도 있을 것이며, 비효율적일것이다.<br>
이런 작업을, 직접 일일히 하는것이 아닌 테스트코드를 작성해 진행 할 수 있는데,<br>이것을 테스트 자동화라 한다.</li></ul><blockquote><p>유닛 테스팅은, 내가 작성한 코드가 다른 코드들을 망가뜨리지 않도록, 적어도 사전에 정의한 상황을 보장해준다.</p></blockquote><h3 id="react-component-testing"><a href="#react-component-testing" aria-hidden="true" class="header-anchor">#</a> React Component Testing.</h3><ul><li>리액트 프로젝트는 컴포넌트 단위 하나하나 테스트 로직을 정해줄 수 있다.<br>
리액트 컴포넌트를 테스팅할때는 주로 아래와 같은 형식으로 한다.
<ol><li>특정 props에 따라 컴포넌트가 크래쉬 없이 잘 렌더링 되는지 확인.</li><li>이전에 렌더링했던 결과와, 새로 렌더링한 결과가 일치하는지 확인.</li><li>특정 DOM 이벤트를 시뮬레이트 하여, 원하는 변화가 제대로 발생하는지 확인.</li><li>렌더링된 결과물을 <code>이미지</code>로 저장하여 픽셀을 하나하나 확인해서 모두 일치하는지 확인. (이 경우는 <code>스토리북</code>을 이용 하는것이 효율적이고 편하다.)</li></ol></li></ul><blockquote><p>npm <code>create-react-app</code> 을 이용해서 프로젝트를 생성한다.
<code>create-react-app</code>에는 기본적인 테스트 환경이 구성 되어있으며, 기본 테스트 파일도 존재 한다.(<code>App.test.js</code>)</p></blockquote><ul><li>src/App.test.js</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders without crashing'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> div<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>컴포넌트가 크래쉬 없이 정상적으로 렌더링 되는지를 확인 해 준다.<br>
실행하기 위해서는 터미널로 프로젝트의 경로에서 <code>npm test</code>를 입력하면 된다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code>Test Suites<span class="token punctuation">:</span> <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">1</span> total
Tests<span class="token punctuation">:</span>       <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">1</span> total
Snapshots<span class="token punctuation">:</span>   <span class="token number">0</span> total
Time<span class="token punctuation">:</span>        <span class="token number">2.526</span>s
Ran all test suites related to changed files<span class="token punctuation">.</span>

Watch Usage
 › Press p to filter by a filename regex pattern<span class="token punctuation">.</span>
 › Press t to filter by a test name regex pattern<span class="token punctuation">.</span>
 › Press q to quit watch mode<span class="token punctuation">.</span>
 › Press Enter to trigger a test run<span class="token punctuation">.</span>
</code></pre></div><blockquote><p>정상적으로 완료되는것을 확인 할 수 있다.</p></blockquote><h3 id="카운터-컴포넌트"><a href="#카운터-컴포넌트" aria-hidden="true" class="header-anchor">#</a> 카운터 컴포넌트</h3><p>+ 버튼과 - 버튼을 이용해 state에 있는 값을 변경하는 컴포넌트이다.</p><ul><li>src/components/Counter.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
        number<span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">onPlus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">:</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">onMinus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">:</span> number <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>number<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>onPlus<span class="token punctuation">,</span> onMinus<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Counter<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onPlus<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">+</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onMinus<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">-</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Counter<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>위 컴포넌트를 App에서 렌더링 하자.</p></blockquote><ul><li>src/App.js</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./components/Counter.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>터미널에서 <code>npm start</code>로 실행 후 화면이 정상적으로 렌더링 되는것을 확인한다.</p></blockquote><h3 id="nameform-namelist-컴포넌트"><a href="#nameform-namelist-컴포넌트" aria-hidden="true" class="header-anchor">#</a> NameForm, NameList 컴포넌트</h3><blockquote><p>이번 컴포넌트는 <code>NameForm</code>에 이름을 등록하면 <code>NameList</code>에 나타나는 컴포넌트 이다.<br>
input의 상태값은 <code>NameForm</code>에 넣고, <code>NameList</code>에 보여줄 이름 목록의 상태값은 <code>App</code>에서 <code>NameList</code>로 <code>props</code>를 통해 전달 하도록 한다.</p></blockquote><ul><li>src/components/NameForm.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">NameForm</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        onSubmit<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'onSubmit not defined'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">onChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>onInsert<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
        <span class="token comment">// 이름을 추가하고, name 값 초기화</span>
        <span class="token function">onInsert</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// submit 하면 기본적으로는 페이지가 새로고쳐지는 것을 방지함.</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>onSubmit<span class="token punctuation">,</span> onChange<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>이름<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>등록<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> NameForm<span class="token punctuation">;</span>
</code></pre></div><ul><li>src/components/NameList.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">NameList</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> defultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        names<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token function">renderList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>names<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
        <span class="token keyword">const</span> NameList <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span>name<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> NameList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> NameList<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>위 새로 만든 컴포넌트를 <code>App</code>에서 렌더링 한다. 컴포넌트를 추가하면서 <code>App</code>에 <code>state</code>값과 <code>onInsert</code> 메소드를 추가 한다.</p></blockquote><ul><li>src/App.js</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./components/Counter.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NameForm <span class="token keyword">from</span> <span class="token string">'./components/NameForm.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NameList <span class="token keyword">from</span> <span class="token string">'./components/NameList.jsx'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    names<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'웅식'</span><span class="token punctuation">,</span> <span class="token string">'킴웅식'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onInsert</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span>names<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>names<span class="token punctuation">:</span> names<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>names<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>onInsert<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>이름 목록<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NameForm onInsert<span class="token operator">=</span><span class="token punctuation">{</span>onInsert<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NameList names<span class="token operator">=</span><span class="token punctuation">{</span>names<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>컴포넌트를 추가 한 후, 정상적으로 화면이 정상적으로 렌더링 되는것을 확인한다.</p></blockquote><h3 id="스냅샷-테스팅"><a href="#스냅샷-테스팅" aria-hidden="true" class="header-anchor">#</a> 스냅샷 테스팅</h3><blockquote><p>컴포넌트를 렌더링하고, 그 결과물을 파일로 저장한다. 그리고, 다음번에 테스팅을 진행하게 되었을때, 이전의 결과물과 일치하는지를 확인한다.<br>
초기 렌더링 결과를 비교 할 수 있지만, 컴포넌트 내부 메소드를 호출시키고, 다시 렌더링 시켜서 그 결과물도 스냅샷을 저장시켜서, 각 상황을 이전에 렌더링 했던 결과와 일치하는지를 비교 할 수 있다.
<br>
스냅샷 테스팅을 진행하려면 <code>react-test-renderer</code> npm 모듈을 설치 해야 한다.<br>
설치 후 테스트 코드를 작성 한다.</p></blockquote><ul><li>src/components/Counter.test.js</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./Counter.jsx'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Counter View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;초기 렌더링이 정상적으로 됨.&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'스냅샷 일치함.'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>테스트를 할 때, 주로 사용하는 함수 이다.
<ul><li><strong>describe</strong><ul><li><code>테스트 단위 구분</code>으로 생각할 수 있다.(각 화면 단위)</li><li><strong>describe</strong> 안에 여러개의 <strong>describe</strong>를 넣을 수 있다.</li></ul></li><li><strong>it</strong><ul><li>테스트 단위 내의 <code>기능 단위 구분</code>으로 생각 할 수 있다.(기능 테스트 단위)</li><li><strong>describe</strong> 안에 여러개의 <strong>it</strong>을 넣을 수 있다.</li></ul></li><li><strong>expect</strong><ul><li>특정값이 예상한 값으로 나왔는지 확인 할 때 사용한다.</li></ul></li></ul></li></ul><blockquote><p><code>describe</code> 와 <code>it</code>에는 두개의 파라미터가 필요한데, 첫번째 파라미터에는 기능 및 테스트 항목의 설명을 넣고, 두번째 파라미터에 실제 테스트 코드를 작성한다.</p></blockquote><ul><li><p>테스트 코드를 작성/수정 후 저장을 하게되면, 자동으로 테스트가 진행되며, 스냅샷이 생성된다. 스냅샷은 렌더링하는 파일의 경로의 <code>__snapshots__</code> 디렉토리에 저장되며, 확장자는 <code>.snap</code>이다.</p></li><li><p>테스트를 실행하고 생성된 스냅샷 파일을 열어보자.</p></li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Jest Snapshot v1, https://goo.gl/fbAQLP</span>

exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`Counter View 스냅샷 일치함.1 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token string">`
&lt;div&gt;
  &lt;h1&gt;
    Counter
  &lt;/h1&gt;
  &lt;h2&gt;
    1
  &lt;/h2&gt;
  &lt;button
    id=&quot;plus&quot;
    onClick={[Function]}
  &gt;
     + 
  &lt;/button&gt;
  &lt;button
    id=&quot;minus&quot;
    onClick={[Function]}
  &gt;
     - 
  &lt;/button&gt;
&lt;/div&gt;
`</span></span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>렌더링 한 결과물이 스냅샷으로 저장된것을 확인 할 수 있고,<br>
작성했던 코드보다 간소화 되어있는 것을 볼 수 있다.<br>
화면을 변경 하고 테스트를 할 경우 어떤 변화가 있는지 확인 해 보자.</p></blockquote><ul><li>작성했던 코드의 내용을 변경 한 후 테스트 결과이다.</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token constant">FAIL</span>  src\components\Counter<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js
  ● Counter View › 스냅샷 일치함<span class="token punctuation">.</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    Received value does not match stored snapshot <span class="token number">1.</span>

    <span class="token operator">-</span> Snapshot
    <span class="token operator">+</span> Received

    @@ <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span> @@
     <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">-</span>    Counter
    <span class="token operator">+</span>    카운터
       <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>
         <span class="token number">1</span>
       <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>button

      at Object<span class="token punctuation">.</span><span class="token function">it</span> <span class="token punctuation">(</span>src<span class="token operator">/</span>components<span class="token operator">/</span>Counter<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">17</span><span class="token punctuation">:</span><span class="token number">22</span><span class="token punctuation">)</span>
      at Promise<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>then<span class="token punctuation">.</span><span class="token function">el</span> <span class="token punctuation">(</span>node_modules<span class="token operator">/</span>p<span class="token operator">-</span>map<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">)</span>
      at process<span class="token punctuation">.</span><span class="token function">_tickCallback</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>process<span class="token operator">/</span>next_tick<span class="token punctuation">.</span>js<span class="token punctuation">:</span><span class="token number">109</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">)</span>

 <span class="token constant">PASS</span>  src\App<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js

Snapshot Summary
 › <span class="token number">1</span> snapshot test failed <span class="token keyword">in</span> <span class="token number">1</span> test suite<span class="token punctuation">.</span> Inspect your code changes or press <span class="token template-string"><span class="token string">`u`</span></span> to update them<span class="token punctuation">.</span>

Test Suites<span class="token punctuation">:</span> <span class="token number">1</span> failed<span class="token punctuation">,</span> <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">2</span> total
Tests<span class="token punctuation">:</span>       <span class="token number">1</span> failed<span class="token punctuation">,</span> <span class="token number">2</span> passed<span class="token punctuation">,</span> <span class="token number">3</span> total
Snapshots<span class="token punctuation">:</span>   <span class="token number">1</span> failed<span class="token punctuation">,</span> <span class="token number">1</span> total
Time<span class="token punctuation">:</span>        <span class="token number">0.437</span>s<span class="token punctuation">,</span> estimated <span class="token number">2</span>s
Ran all test suites<span class="token punctuation">.</span>
</code></pre></div><blockquote><p>기존의 스냅샷과 비교한 결과 다른점이 발견되어 테스트 실패한것을 볼 수 있다.<br> 위 상태에서 엔터를 누르면 다시 테스트를 진행하며, <code>U</code>키를 누르면 변경된 스냅샷으로 업데이트 할 수 있다. 단점은, 스냅샷을 업데이트 하는데에 제약이 없기 때문에 오류이지만 업데이트를 해 버린다면, 다음 테스트에는 오류난 시점이 정상으로 되버릴 것이다.</p></blockquote><h3 id="메소드-호출-및-state-조회"><a href="#메소드-호출-및-state-조회" aria-hidden="true" class="header-anchor">#</a> 메소드 호출 및 state 조회</h3><ul><li>react-test-render는 실제로 컴포넌트가 렌더링 되기때문에, 컴포넌트의 <code>state</code>와 <code>메소드</code>에도 접근이 가능하다.<br><code>메소드</code>를 실행해 <code>state</code>를 업데이트 시켜보고, 의도한대로 렌더링이 되는지 확인해 보자.</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'카운트 UP이 정상적으로 됨.'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onPlus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'카운드 DOWN이 정상적으로 됨.'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onMinus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token constant">PASS</span>  src\components\Counter<span class="token punctuation">.</span>test<span class="token punctuation">.</span>jsx
  Counter View
    √ 초기 렌더링이 정상적으로 됨<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">3</span>ms<span class="token punctuation">)</span>
    √ 스냅샷 일치함<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">2</span>ms<span class="token punctuation">)</span>
    √ 카운트 <span class="token constant">UP</span>이 정상적으로 됨<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">3</span>ms<span class="token punctuation">)</span>
    √ 카운드 <span class="token constant">DOWN</span>이 정상적으로 됨<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">3</span>ms<span class="token punctuation">)</span>

Test Suites<span class="token punctuation">:</span> <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">1</span> total
Tests<span class="token punctuation">:</span>       <span class="token number">4</span> passed<span class="token punctuation">,</span> <span class="token number">4</span> total
Snapshots<span class="token punctuation">:</span>   <span class="token number">3</span> passed<span class="token punctuation">,</span> <span class="token number">3</span> total
Time<span class="token punctuation">:</span>        <span class="token number">0.104</span>s<span class="token punctuation">,</span> estimated <span class="token number">1</span>s
Ran all test suites<span class="token punctuation">.</span>

Watch Usage<span class="token punctuation">:</span> Press w to show more<span class="token punctuation">.</span>
</code></pre></div><blockquote><p>위 테스트 결과로 state가 변하는것을 스냅샷을 통한 테스트를 통해 확인 가능하다.<br>
아까 작성했던 <code>NameForm</code>, <code>NameList</code>에도 초기 렌더링 테스트 코드를 작성 한다.</p></blockquote><ul><li>src/component/NameList.test.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NameList <span class="token keyword">from</span> <span class="token string">'./NameList.jsx'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'NameList View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'NameList View 초기 렌더링'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        component <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>NameList names<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'웅식'</span><span class="token punctuation">,</span> <span class="token string">'킴웅식'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'NameList View Snapshot check'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>src/componemt/NameForm.test.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NameForm <span class="token keyword">from</span> <span class="token string">'./NameForm.jsx'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'NameForm View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'NameForm View 초기 렌더링'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        component <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>NameForm <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'NameForm View Snapshot check'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>src/App.test.js</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderer <span class="token keyword">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'App View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'App View 초기 렌더링'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    component <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'App View Snapshot check'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>테스트를 진행하면서, 불필요하지만 테스트 코드는 그대로 유지하고 싶은경우에는 <code>skip</code>을 이용하면 된다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'App View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'App View 초기 렌더링'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    component <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  it<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token string">'App View Snapshot check'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> snap <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>snap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token constant">PASS</span>  src\App<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js
  App View
    √ App View 초기 <span class="token function">렌더링</span> <span class="token punctuation">(</span><span class="token number">3</span>ms<span class="token punctuation">)</span>
    ○ skipped <span class="token number">1</span> test

Test Suites<span class="token punctuation">:</span> <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">1</span> total
Tests<span class="token punctuation">:</span>       <span class="token number">1</span> skipped<span class="token punctuation">,</span> <span class="token number">1</span> passed<span class="token punctuation">,</span> <span class="token number">2</span> total
Snapshots<span class="token punctuation">:</span>   <span class="token number">0</span> total
Time<span class="token punctuation">:</span>        <span class="token number">0.086</span>s<span class="token punctuation">,</span> estimated <span class="token number">1</span>s

Watch Usage<span class="token punctuation">:</span> Press w to show more<span class="token punctuation">.</span>
</code></pre></div><h3 id="enzyme"><a href="#enzyme" aria-hidden="true" class="header-anchor">#</a> Enzyme</h3><blockquote><p>Enzyme를 이용하면 세밀한 리엑트 컴포넌트 테스팅을 할 수 있다.<br>
Enzyme를 이용해 DOM 이벤트를 시뮬레이트(Button 클릭, Input 수정 등) 할 수 있고, 라이프사이클이 문제없이 정상적으로 진행되는지 확인 할 수 있다.<br>
npm 모듈 <code>enzyme</code>와 <code>enzyme-adapter-react-16</code>을 설치 한다.<br>
설치 후 <code>src</code> 디렉토리 밑에 <code>setupTests.js</code>파일을 생성 하고 아래 코드를 추가한다.(<code>create-react-app</code>로 프로젝트를 생성한 경우 사용할 수 있는 테스트 설정이다.)</p></blockquote><ul><li><p><code>Enzyme</code>의 <code>adapter</code>를 적용하는 <code>configure</code>를 제외한 대표 세가지 메소드가 있다.</p><ul><li>shallow : 간단한 컴포넌트를 메모리에 렌더링 한다. 단일 컴포넌트 테스트시 유용하다.</li><li>mount : <code>HOC</code>나 자식 컴포넌트까지 모두 렌더링 한다. 다른 컴포넌트와의 관계를 테스트할때 유용하다.(<code>HOC : Higher-Order Components - 자바스크립트의 Function을 리턴하는대신 Component를 리턴 하는것.</code>)</li><li>render : 컴포넌트를 정적인 html로 렌더링 한다. 컴포넌트가 브라우저에서 어떻게 되는지 테스트할때 유용하다.</li></ul></li><li><p>src/setupTest.js</p></li></ul><blockquote><p>아래 코드를 작성하고, 재실행 한다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>configure<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>

<span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span>adapter<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>기존의 <code>Counter</code> 테스트 코드에 작성했던 <code>react-test-renderer</code>를 <code>Enzyme</code>으로 변경 한다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./Counter.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>shallow<span class="token punctuation">,</span> configure<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Counter View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;Counter View 초기 렌더링이 정상적으로 됨.&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component <span class="token operator">=</span> <span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Counter View Snapshot check'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'카운트 UP이 정상적으로 됨.'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'#plus'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'카운드 DOWN이 정상적으로 됨.'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'#minus'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>코드를 수정하고, 테스트를 진행 후 스냅샷을 업데이트 한 후 스냅샷을 확인 해 보자. <code>Enzyme</code>를 사용한 스냅샷의 결과물은 가독성이 <code>react-test-renderer</code>보다 좋지 않은것을 볼 수 있다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Jest Snapshot v1, https://goo.gl/fbAQLP</span>

exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`Counter View Counter View Snapshot check 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> `
ShallowWrapper <span class="token punctuation">{</span>
  <span class="token string">&quot;length&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span>enzyme<span class="token punctuation">.</span>__root__<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Circular<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span>enzyme<span class="token punctuation">.</span>__unrendered__<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span>enzyme<span class="token punctuation">.</span>__renderer__<span class="token punctuation">)</span><span class="token punctuation">:</span> Object <span class="token punctuation">{</span>
    <span class="token string">&quot;batchedUpdates&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;getNode&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;render&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;simulateEvent&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;unmount&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">Symbol</span><span class="token punctuation">(</span>enzyme<span class="token punctuation">.</span>__node__<span class="token punctuation">)</span><span class="token punctuation">:</span> Object <span class="token punctuation">{</span>
    <span class="token string">&quot;instance&quot;</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
    <span class="token string">&quot;nodeType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;host&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;props&quot;</span><span class="token punctuation">:</span> Object <span class="token punctuation">{</span>
      <span class="token string">&quot;children&quot;</span><span class="token punctuation">:</span> Array <span class="token punctuation">[</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
          Counter
<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
</code></pre></div><blockquote><p><code>package.json</code>에 설치한 <code>enzyme-to-json</code>을 적용하면 <code>react-test-renderer</code>과 같이 깔끔하게 스냅샷 결과물을 얻을 수 있다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;snapshotSerializers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;enzyme-to-json/serializer&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>위 설정을 추가하고 테스트를 재 실행후 스냅샷을 업데이트 하고, 결과를 확인 해 보자. 설정을 추가하기 전과 확연히 다른것을 볼 수 있다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Jest Snapshot v1, https://goo.gl/fbAQLP</span>

exports<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`Counter View Counter View Snapshot check 1`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> `
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
    Counter
  <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>
    <span class="token number">1</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button
    id<span class="token operator">=</span><span class="token string">&quot;plus&quot;</span>
    onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
     <span class="token operator">+</span> 
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button
    id<span class="token operator">=</span><span class="token string">&quot;minus&quot;</span>
    onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
</code></pre></div><h3 id="dom-시뮬레이션"><a href="#dom-시뮬레이션" aria-hidden="true" class="header-anchor">#</a> DOM 시뮬레이션</h3><blockquote><p>기존에는 테스트 할 수 없었던, DOM 이벤트 시뮬레이트를 할 수 있다.<br>
화면에 <code>h1</code>과 <code>button</code>이 있는지 확인 하는 코드를 작성해보자.</p></blockquote><ul><li>src/components/Counter.test.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'DOM 확인'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'h1 여부 확인'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'button 여부 확인'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>렌더링을 하고난 뒤 <code>selector</code>를 통해 특정 DOM을 선택 할 수 있다.<br>
선택할 수 있는 항목은 <code>css, props value, component, tag name</code>이다.</p></blockquote><ul><li>src/components/Counter.test.jsx</li></ul><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Counter View 이벤트 시뮬레이트'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'number 초기값 변경'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>Counter.jsx</code>의 <code>number</code>값을 <code>3</code>으로 초기화 하고 확인시 정상적으로 PASS된다.</p></blockquote><ul><li>src/components/NameForm.test.jsx</li></ul><blockquote><p><code>NameForm</code>의 <code>input</code>에 값을 넣고 추가되는것에 대한 테스트이다.</p></blockquote><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'NameForm View'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> component <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> changed <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onInsert</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        changed <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'NameForm View 초기 렌더링'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        component <span class="token operator">=</span> <span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>NameForm onInsert<span class="token operator">=</span><span class="token punctuation">{</span>onInsert<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'input 값 변경'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> changeInputValue <span class="token operator">=</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                value<span class="token punctuation">:</span> <span class="token string">'Gom'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> changeInputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Gom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'submit 실행'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> changeInputValueSubmit <span class="token operator">=</span> <span class="token punctuation">{</span>
            preventDefault<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        component<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> changeInputValueSubmit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>changed<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Gom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><code>input</code>의 값을 변경하고, <code>submit</code>까지 정상적으로 PASS된다.<br><code>Enzyme</code>의 여러가지 기능으로 테스트를 진행 할 수 있다.</p></blockquote><blockquote><p>참고 사이트 : <a href="https://facebook.github.io/jest/docs/en/expect.html" target="_blank" rel="noopener noreferrer">Jest<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="http://airbnb.io/enzyme/docs/api/shallow.html" target="_blank" rel="noopener noreferrer">Enzyme<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/woongsik2.github.io/javascript/ExecutionContext.html" class="prev">
          (javascript) Execution Context.
        </a></span><span class="next"><a href="/woongsik2.github.io/etc/docker.html">
          (etc) Docker.
        </a> →
      </span></p></div></div></div></div>
    <script src="/woongsik2.github.io/assets/js/8.e4a1a38e.js" defer></script><script src="/woongsik2.github.io/assets/js/app.0884dacd.js" defer></script>
  </body>
</html>
